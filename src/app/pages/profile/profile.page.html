<ion-content class="ion-padding"
             [class.bg-editar]="mode === 'editar'"
             [class.bg-preview]="mode === 'preview'">

  <!-- HEADER -->
  <div class="header-container">
    <p class="custom-title">CONFIGURACIONES</p>
  </div>

  <!-- BOTÓN LISTO -->
  <ion-item class="btnListo">
    <ion-buttons slot="end">
      <ion-button (click)="onListoClick()">Listo</ion-button>
    </ion-buttons>
  </ion-item>

  <!-- SEGMENT -->
  <ion-segment [(ngModel)]="mode" value="editar" class="profile-segment">
    <ion-segment-button value="editar">
      <ion-label>Editar</ion-label>
    </ion-segment-button>
    <ion-segment-button value="preview">
      <ion-label>Vista previa</ion-label>
    </ion-segment-button>
  </ion-segment>

  <!-- ========================= -->
  <!-- EDITAR -->
  <!-- ========================= -->
  <ng-container *ngIf="mode === 'editar'">

    <div class="header-container">
      <p class="custom-title title-left">Explica algo sobre ti</p>
    </div>

    <ion-item class="campoTxt">
      <ion-textarea
        [(ngModel)]="profile.description"
        autoGrow="true"
        placeholder="Escribe algo sobre ti">
      </ion-textarea>
    </ion-item>

    <div class="header-container">
      <p class="custom-title title-left">Género</p>
    </div>

    <ion-list>
      <ion-item class="campoGenero">
        <ion-select
          [(ngModel)]="profile.gender"
          interface="action-sheet"
          placeholder="Seleccionar género">
          <ion-select-option value="masculino">Masculino</ion-select-option>
          <ion-select-option value="femenino">Femenino</ion-select-option>
          <ion-select-option value="otro">Otro</ion-select-option>
        </ion-select>
      </ion-item>
    </ion-list>

    <!-- EDAD -->
    <ion-item class="none">
      <ion-label>Edad</ion-label>
      <ion-item class="campoEdad">
        <ion-select
          [(ngModel)]="profile.age"
          interface="popover"
          placeholder="00">
          <ion-select-option
            *ngFor="let age of ageOptions"
            [value]="age.value">
            {{ age.display }}
          </ion-select-option>
        </ion-select>
      </ion-item>
    </ion-item>

    <!-- FOTOS -->
    <ion-item class="fotos" lines="none">
      <span class="dot-text">Fotos</span>
      <span class="dot-fill"></span>
      <ion-button fill="clear" size="small" (click)="onPlusClick()">
        <ion-icon name="add"></ion-icon>
      </ion-button>
    </ion-item>

  </ng-container>

  <!-- ========================= -->
  <!-- VISTA PREVIA -->
  <!-- ========================= -->
  <ng-container *ngIf="mode === 'preview'">
    <div class="preview-card">
      <!-- Фото (берём первое, можно сделать слайдер позже) -->
      <img *ngIf="profile.photos.length > 0" [src]="profile.photos[0]" class="preview-image" />

      <!-- Текст поверх фото -->
      <div class="overlay-text">
        {{ profile.description || 'Sin descripción' }}
      </div>

      <!-- Данные (Edad, Género) -->
      <div class="overlay-data">
        <span>{{ profile.age ?? '--' }} años</span>
        <span>{{ profile.gender || '--' }}</span>
      </div>
    </div>
  </ng-container>




</ion-content>
